<Application x:Class="FLMDesktop.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             ShutdownMode="OnMainWindowClose">
    <Application.Resources>

        <!-- Core colors / brushes -->
        <Color x:Key="AccentColor">#2563EB</Color>
        <Color x:Key="AccentColorLight">#60A5FA</Color>
        <SolidColorBrush x:Key="BrushAccent" Color="{StaticResource AccentColor}"/>
        <SolidColorBrush x:Key="BrushAccentLight" Color="{StaticResource AccentColorLight}"/>

        <!-- Image Resources -->
        <BitmapImage x:Key="BranchImg"
               UriSource="pack://application:,,,/Assets/branches.png"/>
        <BitmapImage x:Key="ProductImg"
               UriSource="pack://application:,,,/Assets/product.png"/>

        <ImageBrush x:Key="BranchBg" ImageSource="{StaticResource BranchImg}" Stretch="UniformToFill"/>
        <ImageBrush x:Key="ProductBg" ImageSource="{StaticResource ProductImg}" Stretch="UniformToFill"/>
        
        <!-- Theme brushes -->
        <Color x:Key="Surface">#F7F7F9</Color>
        <Color x:Key="CardColor">#FFFFFFFF</Color>
        <SolidColorBrush x:Key="BrushSurface" Color="{StaticResource Surface}"/>
        <SolidColorBrush x:Key="BrushCard" Color="{StaticResource CardColor}"/>
        
        <!-- Optional soft shadow for cards/buttons -->
        <DropShadowEffect x:Key="SoftShadow" Color="#33000000" BlurRadius="20" ShadowDepth="2"/>

        <!-- Card style used by Branches page -->
        <Style x:Key="Card" TargetType="Border">
            <Setter Property="CornerRadius" Value="16"/>
            <Setter Property="Background" Value="{StaticResource BrushCard}"/>
            <Setter Property="Padding" Value="16"/>
            <Setter Property="SnapsToDevicePixels" Value="True"/>
            <Setter Property="Effect" Value="{StaticResource SoftShadow}"/>
        </Style>

        <!-- Toolbar button (if your XAML references it) -->
        <Style x:Key="ToolbarButton" TargetType="Button">
            <Setter Property="Margin" Value="0,0,8,0"/>
            <Setter Property="Padding" Value="10,6"/>
            <Setter Property="Background" Value="#F2F4F7"/>
            <Setter Property="BorderBrush" Value="#E5E7EB"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>
        
        <!-- Back Button (pill) -->
        <Style x:Key="BackButton" TargetType="Button">
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Background" Value="{StaticResource BrushAccent}"/>
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="bd"
                        Background="{TemplateBinding Background}"
                        CornerRadius="20"
                        Padding="{TemplateBinding Padding}">
                            <StackPanel Orientation="Horizontal">
                                <Path Data="M10,0 L0,5 L10,10 Z"
                              Fill="White" Width="10" Height="10" Margin="0,0,6,0"/>
                                <ContentPresenter VerticalAlignment="Center"/>
                            </StackPanel>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="bd" Property="Background" Value="{StaticResource BrushAccentLight}"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="bd" Property="Opacity" Value="0.9"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Modern "Morph" card button -->
        <Style x:Key="MorphButton" TargetType="Button">
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Padding" Value="0"/>
            <!-- default visual in case no image is provided -->
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#FFEFF3FF" Offset="0"/>
                        <GradientStop Color="#FFFFFFFF" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Grid>
                            <!-- image / gradient fill -->
                            <Border x:Name="ImgHost" CornerRadius="24"
                            Background="{TemplateBinding Background}">
                                <Border.Effect>
                                    <DropShadowEffect Color="#22000000" BlurRadius="18" ShadowDepth="3"/>
                                </Border.Effect>
                            </Border>

                            <!-- dark overlay for text readability -->
                            <Border CornerRadius="24" Background="#66000000"/>

                            <!-- center text -->
                            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                                <TextBlock Text="{TemplateBinding Content}" Foreground="White"
                                   FontSize="28" FontWeight="SemiBold" TextAlignment="Center"/>
                                <TextBlock Text="{TemplateBinding ToolTip}" Foreground="#CCFFFFFF"
                                   FontSize="14" Margin="0,6,0,0" TextAlignment="Center"/>
                            </StackPanel>
                        </Grid>

                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="ImgHost" Property="RenderTransformOrigin" Value="0.5,0.5"/>
                                <Setter TargetName="ImgHost" Property="RenderTransform">
                                    <Setter.Value>
                                        <ScaleTransform ScaleX="1.03" ScaleY="1.03"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Opacity" Value="0.92"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Opacity" Value="0.6"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

    </Application.Resources>
</Application>
